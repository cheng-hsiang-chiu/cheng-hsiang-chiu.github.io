<!DOCTYPE html>

<html>
<body>

<textarea id="floorplan" name ="floorplan" rows="16" cols="16">
</textarea>

<button type="button" onclick="placement()">Build</button>

<p id="demo"></p>

<script>
function placement() {
  var x = document.getElementById("floorplan").value;
  var obj = JSON.parse(x);

  var canvas = document.getElementById("mycanvas");
  var ctx = canvas.getContext("2d");
  var ctx1 = canvas.getContext("2d");
  var ctx2 = canvas.getContext("2d");
  
  document.getElementById("demo").innerHTML = "area = " + obj.area;
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  ctx1.clearRect(0, 0, canvas.width, canvas.height);
  ctx2.clearRect(0, 0, canvas.width, canvas.height);

  ctx.fillStyle = "#000000";
  ctx1.fillStyle = "#FF0000";  
  //ctx2.strokeStyle = "green";
  ctx2.fillStyle = "green";
  var i;
  for(i = 0; i < obj.coordinates.length; ++i) {
    var obji = obj.coordinates[i];
    ctx.strokeRect(obji.llx, obji.lly, obji.width, obji.height);
    
    ctx1.font = "3px Arial";
    ctx1.fillText(obji.idx, obji.llx+obji.width/2, obji.lly+obji.height/2);
  }
  // document.getElementById("demo").innerHTML = obj.block_number + "," + obj.coordinates[0].width;
  //ctx2.beginPath();
  //ctx2.rect(0, 0, obj.urx, obj.ury);
  //ctx2.stroke();
  ctx2.strokeRect(0 ,0 , obj.urx, obj.ury);
}
</script>

<canvas id="mycanvas" width="10000" height="10000" style="border:1px solid #d3d3d3;">

</body>
</html>
